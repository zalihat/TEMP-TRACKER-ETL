FROM bitnami/spark:latest

USER root
# Install OpenJDK
# Add the required repository and install OpenJDK 11
RUN apt-get update && \
    apt-get install -y software-properties-common && \
    apt-add-repository 'deb http://security.debian.org/debian-security bullseye-security main' && \
    apt-get update && \
    apt-get install -y git openjdk-11-jdk && \
    apt-get clean

# Set JAVA_HOME and update PATH
ENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
ENV PATH="${JAVA_HOME}/bin:${PATH}"

USER 1001
